<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <!-- ì¤Œ ì™„ì „ ë¹„í™œì„±í™”: ë”ë¸”íƒ­-ì¤Œ/í•€ì¹˜ì¤Œ ëª¨ë‘ OFF, íƒ­ì€ ë¹ ë¥´ê²Œ ë‘ ë²ˆ ì˜ ë“¤ì–´ê° -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>ê¹€ê°€ë¹ˆ ë°”ë³´ (ë ˆë²¨ì—… ì—ë””ì…˜)</title>
  <meta name="description" content="ì¥ë‚œ í˜ì´ì§€ â€” ë ˆë²¨ì—…/ê²½í—˜ì¹˜ ì‹œìŠ¤í…œìœ¼ë¡œ ë°”ë³´ë ¥ ìƒìŠ¹!" />
  <style>
    :root{
      --bg1:#0e0f1a; --bg2:#15172a; --acc:#7c5cff; --acc2:#00e5ff; --ink:#e9ecf1;
      --muted:#aab0c0; --warn:#ffb703; --bad:#ff4d6d;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Noto Sans KR", Arial, "Apple SD Gothic Neo", "Malgun Gothic", sans-serif;
      color:var(--ink);
      background:
        radial-gradient(1200px 600px at 10% -10%, #1d2040 0%, transparent 60%),
        radial-gradient(900px 500px at 110% 0%, #041b2e 0%, transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      overflow-x:hidden;
      -webkit-text-size-adjust: 100%; /* iOS ê¸€ì ìë™í™•ëŒ€ ë°©ì§€ */
    }
    .wrap{max-width:960px;margin:0 auto;padding:42px 18px 96px;position:relative}
    .tag{
      display:inline-flex;gap:8px;align-items:center;
      border:1px solid #2b2f53;border-radius:999px;padding:8px 14px;font-size:12px;color:var(--muted);
      backdrop-filter: blur(6px); background: rgba(255,255,255,0.03)
    }
    .pulse{width:6px;height:6px;border-radius:50%;background:var(--bad);box-shadow:0 0 0 0 rgba(255,77,109,.7);animation:pulse 1.8s infinite}
    @keyframes pulse{0%{box-shadow:0 0 0 0 rgba(255,77,109,.7)}70%{box-shadow:0 0 0 18px rgba(255,77,109,0)}100%{box-shadow:0 0 0 0 rgba(255,77,109,0)}}
    h1{
      font-weight:900;line-height:1.1;margin:18px 0 8px;font-size: clamp(40px, 8vw, 88px);
      letter-spacing:-.02em; position:relative; display:inline-block;
      text-shadow:0 0 30px rgba(124,92,255,.35);
    }
    .glitch{ position:relative; isolation:isolate; }
    .glitch::before,.glitch::after{
      content:attr(data-text); position:absolute; inset:0; mix-blend-mode:screen; filter:blur(.5px);
      clip-path:inset(0 0 0 0); animation:gl 2.2s infinite steps(2,end);
    }
    .glitch::before{color:var(--acc); transform:translate(2px,0)}
    .glitch::after{color:var(--acc2); transform:translate(-2px,0)}
    @keyframes gl{
      0%{clip-path:inset(0 0 85% 0)}10%{clip-path:inset(0 0 20% 0)}
      20%{clip-path:inset(45% 0 20% 0)}30%{clip-path:inset(60% 0 5% 0)}
      40%{clip-path:inset(10% 0 40% 0)}50%{clip-path:inset(80% 0 0 0)}
      60%{clip-path:inset(5% 0 70% 0)}70%{clip-path:inset(30% 0 30% 0)}
      80%{clip-path:inset(20% 0 60% 0)}100%{clip-path:inset(0 0 85% 0)}
    }
    .sub{color:var(--muted);font-size:14px;margin-bottom:24px}
    .card{
      background:rgba(255,255,255,0.04); border:1px solid #2b2f53; border-radius:22px; padding:22px; box-shadow:0 10px 40px rgba(0,0,0,.25)
    }
    .panel{display:grid;grid-template-columns:1fr auto;gap:16px;align-items:center}
    .btns{display:flex;gap:10px;flex-wrap:wrap}
    .btns button{
      appearance:none; border:none; padding:14px 18px; border-radius:14px; font-weight:700; cursor:pointer;
      background:linear-gradient(180deg,#2a2f5a,#1c2147); color:#eaf0ff; border:1px solid #3a3f74;
      transition:transform .06s ease, box-shadow .2s ease, background .2s ease;
      touch-action: manipulation;               /* ë”ë¸”íƒ­-ì¤Œ ìœ ë°œ ì œìŠ¤ì²˜ ë¹„í™œì„±í™”, íƒ­ì€ ì •ìƒ */
      -webkit-tap-highlight-color: transparent; /* íƒ­ í•˜ì´ë¼ì´íŠ¸ ì œê±° */
    }
    .btns button:hover{transform:translateY(-1px); box-shadow:0 8px 24px rgba(0,0,0,.35)}
    .btns button:active{transform:translateY(0)}
    .accent{background:linear-gradient(180deg,#6f5bff,#4e42d8); border-color:#7a6cff}
    .meter{height:16px;border-radius:999px;background:#1a1e3a;border:1px solid #2b2f53;overflow:hidden; position:relative}
    .bar{
      height:100%;width:0%;
      background:linear-gradient(90deg,var(--acc),var(--acc2));
      border-radius:999px;transition:width .28s cubic-bezier(.25,.75,.25,1);
      box-shadow:0 0 18px rgba(124,92,255,.35);
    }
    .bar::after{
      content:""; position:absolute; inset:0; background:linear-gradient(180deg, rgba(255,255,255,.25), transparent 55%);
      pointer-events:none;
    }
    .label{display:flex;justify-content:space-between;font-size:12px;color:var(--muted);margin-top:6px}
    .bigline{
      font-size: clamp(18px, 3.2vw, 28px); line-height:1.35; margin:16px 0 8px; font-weight:800;
      background:linear-gradient(90deg,#fff,#9bd7ff); -webkit-background-clip:text; background-clip:text; color:transparent
    }
    .toastzone{position:fixed;inset:0;pointer-events:none}
    .emoji{position:absolute;font-size:24px;animation:pop 800ms ease forwards;opacity:.9}
    @keyframes pop{
      0%{transform:translateY(0) scale(.8); opacity:0}
      20%{opacity:1}
      100%{transform:translateY(-90px) scale(1.25); opacity:0}
    }
    .levelup{
      position:fixed; left:50%; top:18%; transform:translate(-50%,-50%) scale(.9);
      background:rgba(255,255,255,0.06); border:1px solid #3a3f74; padding:16px 20px; border-radius:18px;
      font-weight:900; letter-spacing:.5px; text-align:center; backdrop-filter:blur(6px);
      box-shadow:0 14px 40px rgba(0,0,0,.35);
      animation:popIn .8s ease forwards; pointer-events:none
    }
    @keyframes popIn{
      0%{opacity:0; transform:translate(-50%,-50%) scale(.6)}
      50%{opacity:1; transform:translate(-50%,-50%) scale(1.1)}
      100%{opacity:1; transform:translate(-50%,-50%) scale(1)}
    }
    .shake{animation:shake .5s ease}
    @keyframes shake{
      10%{transform:translateX(-2px)} 20%{transform:translateX(2px)}
      30%{transform:translateX(-2px)} 40%{transform:translateX(2px)}
      50%{transform:translateX(-1px)} 60%{transform:translateX(1px)}
      70%{transform:translateX(0)}
    }
    .copy{text-decoration:underline; cursor:pointer}
    .marquee{ width:100%; overflow:hidden; border-top:1px dashed #30365f; border-bottom:1px dashed #30365f; margin:18px 0 0; }
    .marquee .row{
      display:flex; gap:28px; padding:10px 0; white-space:nowrap; animation:slide 24s linear infinite;
      font-weight:800; color:#d9def5; opacity:.7
    }
    @keyframes slide{to{transform:translateX(-50%)}}
    .pill{
      display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px;
      background:rgba(255,255,255,0.05); border:1px solid #2b2f53; font-size:12px; color:#cdd3e5;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <span class="tag"><span class="pulse" aria-hidden="true"></span>&nbsp; ì¥ë‚œ ë°œë ¹ ğŸ”” â€” ì¹œí•œ ì¹œêµ¬ í•œì • ì‚¬ìš©</span>

    <h1 id="title" class="glitch" data-text="ê¹€ê°€ë¹ˆ ë°”ë³´">ê¹€ê°€ë¹ˆ ë°”ë³´</h1>
    <div class="sub">ëˆ„ë¥¼ìˆ˜ë¡ <span class="pill">XP</span>ê°€ ìŒ“ì´ê³  ë ˆë²¨ì—…í•©ë‹ˆë‹¤. <span class="copy" id="copy">ë¬¸êµ¬ ë³µì‚¬</span> ê°€ëŠ¥!</div>

    <div class="card" role="region" aria-label="ë°”ë³´ë ¥ ëŒ€ì‹œë³´ë“œ">
      <div class="panel">
        <div>
          <div class="bigline" id="quip">ì˜¤ëŠ˜ì˜ ê³µì‹ ì„ ì–¸: <strong>ê¹€ê°€ë¹ˆ ë°”ë³´</strong> (AI ê²€ì¦ ì™„ë£Œ)</div>
          <div class="meter" aria-hidden="true"><div id="bar" class="bar"></div></div>
          <div class="label" id="label">
            <span>ë ˆë²¨ <b>1</b> â€” ì¹­í˜¸: ğŸ£ ì´ˆë³´ ë°”ë³´</span>
            <span><b>0</b>/<b id="need">100</b> XP</span>
          </div>
        </div>
        <div class="btns">
          <button id="roast" class="accent">ë” ë†€ë ¤! ğŸ¤ª</button>
          <button id="mega">ë°”ë³´ í­ê²© ğŸ’¥</button>
        </div>
      </div>

      <div class="marquee" aria-hidden="true">
        <div class="row" id="mq">ê¹€ê°€ë¹ˆ ë°”ë³´ â€¢ ì²œí•˜ì œì¼ ë°”ë³´ ì½˜í…ŒìŠ¤íŠ¸ 1ìœ„ í›„ë³´ â€¢ ì˜¤ëŠ˜ë„ ë‹¹ë‹¹íˆ ë°”ë³´ ì¶œê·¼ â€¢ ë°”ë³´ë ¥ ì¸¡ì • ì¤‘â€¦ â€¢</div>
      </div>
    </div>
  </div>

  <div class="toastzone" id="toastzone" aria-hidden="true"></div>

  <script>
    // ===== ë°ì´í„° =====
    const roastTiers = [
      { min: 1, lines: [
        "ì˜¤ëŠ˜ì˜ ë°”ë³´ ì§€ìˆ˜ 99.9% â€” í™•ì‹¤í•©ë‹ˆë‹¤: ê¹€ê°€ë¹ˆ ë°”ë³´ âœ…",
        "AIê°€ ì„¸ ë²ˆ ê³„ì‚°í–ˆëŠ”ë° ê²°ê³¼ê°€ ê°™ìŒ: ê¹€ãƒ»ê°€ãƒ»ë¹ˆãƒ»ë°”ãƒ»ë³´.",
        "ê³¼í•™ì ìœ¼ë¡œ ì¦ëª…: ì „ì=ì–‘ì, ì‚¬ê³¼=ê³¼ì¼, ê·¸ë¦¬ê³  ê¹€ê°€ë¹ˆ=ë°”ë³´.",
        "ë‰´ìŠ¤ ì†ë³´ğŸ—ï¸: â€˜ì˜¬í•´ì˜ ë°”ë³´â€™ ìœ ë ¥ â€” ê¹€ê°€ë¹ˆ ë°”ë³´.",
        "ì‚¬ì „ ì—…ë°ì´íŠ¸: â€˜ë°”ë³´â€™(n.) ì˜ˆ: ê¹€ê°€ë¹ˆ.",
        "í€´ì¦ˆ: 2+2=4, ì§€êµ¬ëŠ” ë‘¥ê¸€ë‹¤, ê·¸ë¦¬ê³ â€¦ ê¹€ê°€ë¹ˆ ë°”ë³´!"
      ]},
      { min: 3, lines: [
        "ë°”ë³´ë ¥ ì—”ì§„ ì í™”ğŸš€ â€” ì¶œë ¥ ì•ˆì •í™” ì™„ë£Œ: ê¹€ê°€ë¹ˆ ë°”ë³´.",
        "ì—…ë°ì´íŠ¸ íŒ¨ì¹˜ ë…¸íŠ¸: ë²„ê·¸ ìˆ˜ì •, ì„±ëŠ¥ ê°œì„ , â€˜ê¹€ê°€ë¹ˆ ë°”ë³´â€™ ê³ ì •.",
        "ì„¼ì„œ ì•Œë¦¼ ğŸ”´ ê³¼ì—´ ì£¼ì˜ â€” ëŒ€ìƒ: ê¹€ê°€ë¹ˆ ë°”ë³´.",
        "ìˆ˜í•™ì  ê·€ë‚©ë²• ì™„ë£Œ: 1ì´ ì°¸ â†’ nì´ ì°¸ â†’ ê¹€ê°€ë¹ˆ ë°”ë³´ ì°¸."
      ]},
      { min: 5, lines: [
        "ë ˆë²¨ ê³ ì§€ ë‹¬ì„±! ê´€ë¦¬ë²ˆí˜¸ #KGBB â€” ë“±ê¸‰: S(ë°”ë³´).",
        "ìœ„ì›íšŒ ê²°ì˜ì•ˆ 100% ê°€ê²°: â€˜ê¹€ê°€ë¹ˆ ë°”ë³´â€™ í•­êµ¬ì  ì‚¬ì‹¤.",
        "ì§€êµ¬-ë‹¬ ê°„ í†µì‹ : â€œì—¬ê¸°ë„ ë“¤ë¦¼.â€ â€” ë©”ì‹œì§€: ê¹€ê°€ë¹ˆ ë°”ë³´.",
        "ìš°ì£¼ ë°°ê²½ë³µì‚¬ ë¶„ì„ ê²°ê³¼: ë¯¸ì•½í•˜ì§€ë§Œ ë°˜ë³µë˜ëŠ” íŒ¨í„´â€¦ â€˜ê¹€ê°€ë¹ˆ ë°”ë³´â€™."
      ]},
      { min: 8, lines: [
        "ì „ì„¤ ê¸°ë¡ ê°±ì‹  ğŸ† â€” í•™ê³„ í‘œì¤€ ëª…ëª…: ê¹€ê°€ë¹ˆ(ë°”ë³´í˜•).",
        "ì‹œê°„ì—¬í–‰ì ì¦ì–¸ í™•ë³´: ê³¼ê±°Â·í˜„ì¬Â·ë¯¸ë˜ì— ê³µí†µëœ ì§„ì‹¤ â€” ê¹€ê°€ë¹ˆ ë°”ë³´.",
        "ì–‘ì ì¤‘ì²© í•´ì œ ê²°ê³¼ ë‹¨ í•˜ë‚˜: |ê¹€ê°€ë¹ˆ ë°”ë³´âŸ©",
        "ë‹¤ì¤‘ìš°ì£¼ ê³µë™ ì„±ëª…: â€˜ê¹€ê°€ë¹ˆ ë°”ë³´â€™ (ë§Œì¥ì¼ì¹˜)."
      ]}
    ];

    const levelTitles = [
      "ğŸ£ ì´ˆë³´ ë°”ë³´","ğŸ§¢ ì¼ìƒ ë°”ë³´","ğŸ›¼ ê´€ì„± ë°”ë³´","ğŸš€ ìµìŠ¤í”„ë ˆìŠ¤ ë°”ë³´","ğŸŒ‹ ì „ì„¤ì˜ ë°”ë³´",
      "ğŸ† ëª…ì˜ˆì˜ ì „ë‹¹ ë°”ë³´","ğŸ§¬ ë©”íƒ€ ë°”ë³´","ğŸŒŒ ì½”ìŠ¤ë¯¹ ë°”ë³´","ğŸ‘‘ í™©ì œ ë°”ë³´","ğŸ’« ì´ˆì›” ë°”ë³´"
    ];

    const palettes = [
      ["#7c5cff","#00e5ff"],["#ff7ab6","#ffd166"],["#00d68f","#a7ffeb"],["#ff6b6b","#ffd93d"],
      ["#80ed99","#56cfe1"],["#6a7cff","#b388ff"],["#ff9f1c","#2ec4b6"],["#ff6ad5","#caffbf"],
      ["#00f5d4","#00bbf9"],["#f15bb5","#fee440"]
    ];

    // ===== ì—˜ë¦¬ë¨¼íŠ¸ =====
    const title = document.getElementById('title');
    const bar   = document.getElementById('bar');
    const label = document.getElementById('label');
    const needEl= document.getElementById('need');
    const quip  = document.getElementById('quip');
    const roastBtn = document.getElementById('roast');
    const megaBtn  = document.getElementById('mega');
    const toastzone= document.getElementById('toastzone');
    const copyBtn  = document.getElementById('copy');
    const marquee  = document.getElementById('mq');

    // ===== ìƒíƒœ =====
    let level = 1;
    let xp = 0;

    function xpNeeded(lvl){
      return Math.floor(100 * Math.pow(1.25, Math.max(0, lvl-1)));
    }

    function clamp(n,min,max){ return Math.max(min, Math.min(max,n)) }
    function rand(arr){ return arr[Math.floor(Math.random()*arr.length)] }

    function currentRoast(){
      let pool = roastTiers[0].lines;
      for(const t of roastTiers){
        if(level >= t.min) pool = t.lines;
      }
      return rand(pool);
    }

    function burst(x,y,qty=16){
      const emojis = ["ğŸ¤£","ğŸ¤¡","ğŸ˜œ","âœ¨","ğŸ’¥","ğŸ‰","ğŸ™ƒ","ğŸ¤¯","ğŸŒ€","ğŸŠ"];
      for(let i=0;i<qty;i++){
        const s = document.createElement('div');
        s.className = 'emoji';
        s.textContent = rand(emojis);
        s.style.left = (x + (Math.random()*120-60))+"px";
        s.style.top  = (y + (Math.random()*40-20))+"px";
        s.style.fontSize = (18+Math.random()*18)+"px";
        toastzone.appendChild(s);
        setTimeout(()=> s.remove(), 900);
      }
    }

    function setPaletteByLevel(){
      const [c1,c2] = palettes[(level-1) % palettes.length];
      document.body.style.setProperty('--acc', c1);
      document.body.style.setProperty('--acc2', c2);
    }

    function updateUI(){
      const need = xpNeeded(level);
      const pct = clamp((xp / need) * 100, 0, 100);
      bar.style.width = pct + "%";
      needEl.textContent = need;
      const titleIdx = Math.min(levelTitles.length-1, level-1);
      label.innerHTML = `<span>ë ˆë²¨ <b>${level}</b> â€” ì¹­í˜¸: ${levelTitles[titleIdx]}</span>
                         <span><b>${xp}</b>/<b id="need">${need}</b> XP</span>`;
      setPaletteByLevel();
      title.classList.remove('shake');
    }

    function levelUp(x=window.innerWidth/2, y=window.innerHeight/2){
      const box = document.createElement('div');
      const titleIdx = Math.min(levelTitles.length-1, level-1);
      box.className = 'levelup';
      box.innerHTML = `LEVEL UP! ğŸš€<br/>ë ˆë²¨ <b>${level}</b> â€” ${levelTitles[titleIdx]}`;
      document.body.appendChild(box);
      setTimeout(()=> box.remove(), 1400);

      title.classList.add('shake');
      burst(x,y,28);
      marquee.textContent += ` ë ˆë²¨ ${level} ë‹¬ì„± â€¢`;
      quip.innerHTML = `ë°”ë³´ë ¥ ìƒìŠ¹ â¬†ï¸ â€” <strong>ë ˆë²¨ ${level}</strong> ëŒíŒŒ! ê²°ë¡ ì€ ë³€í•¨ì—†ìŒ: <strong>ê¹€ê°€ë¹ˆ ë°”ë³´</strong>`;
    }

    function animateGainXP(amount, x, y){
      let remaining = amount;
      function step(){
        if(remaining <= 0) return;
        const need = xpNeeded(level);
        const inc = Math.min(remaining, Math.max(1, Math.floor(need * (0.02 + Math.random()*0.02))));
        remaining -= inc;
        xp += inc;

        if(xp >= need){
          xp -= need;
          level++;
          levelUp(x,y);
        }
        updateUI();
        requestAnimationFrame(step);
      }
      requestAnimationFrame(step);
    }

    function sayRoast(){
      quip.innerHTML = currentRoast().replaceAll("ë°”ë³´", "<strong>ë°”ë³´</strong>");
    }

    // ===== ì´ë²¤íŠ¸ =====
    roastBtn.addEventListener('click', (e)=>{
      const base = Math.floor(12 + Math.random()*16); // 12~28 XP
      animateGainXP(base, e.clientX, e.clientY);
      sayRoast();
      burst(e.clientX, e.clientY, 16);
    });

    megaBtn.addEventListener('click', (e)=>{
      const base = Math.floor(45 + Math.random()*35); // 45~80 XP
      animateGainXP(base, e.clientX, e.clientY);
      quip.innerHTML = "ë°”ë³´ë ¥ ê¸‰ìƒìŠ¹ ê²½ë³´ ğŸš¨ â€” ë°ì´í„° í­ì£¼! <strong>ê¹€ê°€ë¹ˆ ë°”ë³´</strong> í™•ì • ê°!";
      for(let i=0;i<2;i++){
        setTimeout(()=> burst(e.clientX, e.clientY, 24), i*120);
      }
    });

    copyBtn.addEventListener('click', async ()=>{
      const text = "ê¹€ê°€ë¹ˆ ë°”ë³´";
      try{
        await navigator.clipboard.writeText(text);
        copyBtn.textContent = "ë³µì‚¬ ì™„ë£Œ!";
        setTimeout(()=> copyBtn.textContent = "ë¬¸êµ¬ ë³µì‚¬", 1200);
      }catch(e){
        alert("ë³µì‚¬ ì‹¤íŒ¨! ì§ì ‘ ë“œë˜ê·¸í•´ ì£¼ì„¸ìš” ğŸ™");
      }
    });

    // ===== ì´ˆê¸°í™” =====
    setPaletteByLevel();
    sayRoast();
    updateUI();
  </script>
</body>
</html>
